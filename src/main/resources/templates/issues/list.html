<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">

<head>
  <title>шк▓щбМф╕Ашжз | шк▓щбМчобчРЖуВвуГЧуГкуВ▒уГ╝уВ╖уГзуГ│</title>
  <style>
    /* уГЖуВнуВ╣уГИуБохИЗуВКшй░уВБчФиуВ╣уВ┐уВдуГл */
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      /* Ensure ellipsis is shown */
    }

    .list-row:not(:last-child) {
      /* Add border to all list-row except the last one */
      border-bottom: 1px solid hsl(var(--b2) / var(--tw-border-opacity));
      /* Using daisyUI border color */
      --tw-border-opacity: 0.2;
      /* Adjust opacity as needed */
    }
  </style>
</head>

<body>
  <div class="min-h-screen bg-base-100">
    <!-- уГбуВдуГ│уВ│уГ│уГЖуГ│уГД -->
    <div class="container mx-auto px-4 py-6">
      <!-- уГШуГГуГАуГ╝ -->
      <div class="bg-base-100 rounded-lg shadow-sm border mb-6 p-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <div>
            <h1 class="text-3xl font-bold text-base-content mb-2">шк▓щбМф╕Ашжз</h1>
            <p class="text-base-content/70">уГЧуГнуВ╕уВзуВпуГИуБошк▓щбМуВТхК╣чОЗчЪДуБлчобчРЖуБЧуБ╛уБЧуВЗуБЖ</p>
          </div>
          <div class="flex flex-col sm:flex-row gap-3">
            <a href="/" class="btn btn-outline">
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
              </svg>
              уГИуГГуГЧуГЪуГ╝уВ╕
            </a>
            <a href="/issues/creationForm" class="btn btn-primary">
              <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
              </svg>
              шк▓щбМуВТф╜ЬцИР
            </a>
          </div>
        </div>
      </div>

      <!-- ф╕Кцо╡я╝Ъшк▓щбМуБиф╜Ьценф╕нуБоуГмуВдуВвуВжуГИ -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">

        <!-- TODO уВлуГйуГа -->
        <div>
          <div class="flex items-center gap-2 mb-4">
            <h2 class="text-lg font-semibold text-base-content">ЁЯУЛ шк▓щбМ</h2>
            <div class="badge badge-neutral" th:text="${#lists.size(todoIssues)}">0</div>
          </div>

          <ul class="list bg-base-100 rounded-box shadow-md">
            <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">шк▓щбМуГкуВ╣уГИ</li>

            <!-- TODOшк▓щбМуБМуБкуБДха┤хРИ -->
            <li th:if="${#lists.isEmpty(todoIssues)}" class="p-8 text-center text-base-content/50">
              шк▓щбМуБпуБВуВКуБ╛уБЫуВУ
            </li>

            <!-- TODOшк▓щбМуВлуГ╝уГЙ -->
            <li th:each="issue : ${todoIssues}" class="list-row p-4 flex items-center gap-4">
              <!-- Assignee Icon -->
              <div class="flex-shrink-0">
                <div class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center">
                  <!-- Placeholder for actual image if available -->
                </div>
              </div>
              <!-- Issue Info -->
              <div class="flex-grow">
                <div class="font-semibold text-base-content">цЛЕх╜УшАЕцЬкхоЪ</div>
                <div class="text-sm font-semibold text-base-content line-clamp-2" th:text="${issue.summary}">шк▓щбМуБоуВ┐уВдуГИуГл</div>
                <p class="text-xs text-base-content/70 line-clamp-2 mt-1" th:text="${issue.description}">
                  шк▓щбМуБошй│ч┤░шкмцШО
                </p>
              </div>
              <!-- Action Button -->
              <div class="flex-shrink-0">
                <button type="button" class="btn btn-square btn-ghost next-button" th:data-issue-id="${issue.id}" title="ф╜Ьценф╕нуБлчз╗хЛХ">
                  <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor">
                      <path d="M6 3L20 12 6 21 6 3z"></path>
                    </g>
                  </svg>
                </button>
              </div>
            </li>
          </ul>

          <!-- уВлуГ╝уГЙш┐╜хКауГЬуВ┐уГ│ -->
          <a href="/issues/creationForm" class="block w-full mt-4 p-3 text-center text-base-content/50 border-2 border-dashed border-base-300 rounded-lg hover:border-base-content/30 hover:text-base-content/70 transition-colors">
            + шк▓щбМуВТш┐╜хКа
          </a>
        </div>

        <!-- DOING уВлуГйуГа -->
        <div>
          <div class="flex items-center gap-2 mb-4">
            <h2 class="text-lg font-semibold text-base-content">ЁЯФД ф╜Ьценф╕н</h2>
            <div class="badge badge-neutral" th:text="${#lists.size(doingIssues)}">0</div>
          </div>

          <ul class="list bg-base-100 rounded-box shadow-md">
            <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">ф╜Ьценф╕нуБошк▓щбМ</li>

            <!-- DOINGшк▓щбМуБМуБкуБДха┤хРИ -->
            <li th:if="${#lists.isEmpty(doingIssues)}" class="p-8 text-center text-base-content/50">
              ф╜Ьценф╕нуБошк▓щбМуБпуБВуВКуБ╛уБЫуВУ
            </li>

            <!-- DOINGшк▓щбМуВлуГ╝уГЙ -->
            <li th:each="issue : ${doingIssues}" class="list-row p-4 flex items-center gap-4">
              <!-- Assignee Icon -->
              <div class="flex-shrink-0">
                <div class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center">
                  <!-- Placeholder for actual image if available -->
                </div>
              </div>
              <!-- Issue Info -->
              <div class="flex-grow">
                <div class="font-semibold text-base-content">цЛЕх╜УшАЕцЬкхоЪ</div>
                <div class="text-sm font-semibold text-base-content line-clamp-2" th:text="${issue.summary}">шк▓щбМуБоуВ┐уВдуГИуГл</div>
                <p class="text-xs text-base-content/70 line-clamp-2 mt-1" th:text="${issue.description}">
                  шк▓щбМуБошй│ч┤░шкмцШО
                </p>
              </div>
              <!-- Action Buttons -->
              <div class="flex-shrink-0 flex gap-2">
                <button type="button" class="btn btn-square btn-ghost previous-button" th:data-issue-id="${issue.id}" title="шк▓щбМуБлцИ╗уБЩ">
                  <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor">
                      <path d="M18 21L4 12 18 3 18 21z"></path>
                    </g>
                  </svg>
                </button>
                <button type="button" class="btn btn-square btn-ghost next-button" th:data-issue-id="${issue.id}" title="хоМф║ЖуБлчз╗хЛХ">
                  <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor">
                      <path d="M6 3L20 12 6 21 6 3z"></path>
                    </g>
                  </svg>
                </button>
              </div>
            </li>
          </ul>
        </div>
      </div>

      <!-- ф╕Лцо╡я╝ЪхоМф║ЖуБоуГмуВдуВвуВжуГИ -->
      <div class="w-full">
        <div class="flex items-center gap-2 mb-4">
          <h2 class="text-lg font-semibold text-base-content">тЬЕ хоМф║Ж</h2>
          <div class="badge badge-neutral" th:text="${#lists.size(doneIssues)}">0</div>
        </div>

        <ul class="list bg-base-100 rounded-box shadow-md">
          <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">хоМф║ЖуБЧуБЯшк▓щбМ</li>

          <!-- DONEшк▓щбМуБМуБкуБДха┤хРИ -->
          <li th:if="${#lists.isEmpty(doneIssues)}" class="p-8 text-center text-base-content/50">
            хоМф║ЖуБЧуБЯшк▓щбМуБпуБВуВКуБ╛уБЫуВУ
          </li>

          <!-- DONEшк▓щбМуВлуГ╝уГЙ -->
          <li th:each="issue : ${doneIssues}" class="list-row p-4 flex items-center gap-4 opacity-75">
            <!-- Assignee Icon -->
            <div class="flex-shrink-0">
              <div class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center">
                <!-- Placeholder for actual image if available -->
              </div>
            </div>
            <!-- Issue Info -->
            <div class="flex-grow">
              <div class="font-semibold text-base-content line-through">цЛЕх╜УшАЕцЬкхоЪ</div>
              <div class="text-sm font-semibold text-base-content line-clamp-2 line-through" th:text="${issue.summary}">хоМф║ЖуБЧуБЯшк▓щбМуБоуВ┐уВдуГИуГл</div>
              <p class="text-xs text-base-content/70 line-clamp-2 mt-1 line-through" th:text="${issue.description}">
                хоМф║ЖуБЧуБЯшк▓щбМуБошй│ч┤░шкмцШО
              </p>
            </div>
            <!-- Action Button -->
            <div class="flex-shrink-0">
              <button type="button" class="btn btn-square btn-ghost previous-button" th:data-issue-id="${issue.id}" title="ф╜Ьценф╕нуБлцИ╗уБЩ">
                <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor">
                    <path d="M18 21L4 12 18 3 18 21z"></path>
                  </g>
                </svg>
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- JavaScriptуГХуВбуВдуГлуБошкнуБ┐ш╛╝уБ┐ -->
  <script src="/js/issueBoard.js"></script>
</body>

</html>